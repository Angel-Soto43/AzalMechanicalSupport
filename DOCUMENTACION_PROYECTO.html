<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocumentaciÃ³n - Sistema de GestiÃ³n de Archivos Azal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #1a5490;
            border-bottom: 4px solid #1a5490;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        h2 {
            color: #2874a6;
            margin-top: 40px;
            margin-bottom: 15px;
            border-left: 4px solid #2874a6;
            padding-left: 15px;
            font-size: 1.8em;
        }
        
        h3 {
            color: #5a9bc3;
            margin-top: 25px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        h4 {
            color: #7ab5d3;
            margin-top: 15px;
            margin-bottom: 8px;
            font-size: 1.1em;
        }
        
        p {
            margin-bottom: 12px;
            text-align: justify;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-bottom: 12px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }
        
        .code-block {
            background-color: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 2px 6px;
            border-left: 4px solid #ffc107;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #2874a6;
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .box {
            background-color: #e8f4f8;
            border-left: 4px solid #2874a6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .box-success {
            background-color: #d4edda;
            border-left-color: #28a745;
        }
        
        .box-warning {
            background-color: #fff3cd;
            border-left-color: #ffc107;
        }
        
        .box-danger {
            background-color: #f8d7da;
            border-left-color: #dc3545;
        }
        
        .toc {
            background-color: #f9f9f9;
            border: 2px solid #2874a6;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        
        .toc h3 {
            margin-top: 0;
            color: #2874a6;
        }
        
        .toc ol {
            margin-bottom: 0;
        }
        
        .toc a {
            color: #2874a6;
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #2874a6;
        }
        
        .feature-item strong {
            color: #2874a6;
        }
        
        .diagram {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            font-family: monospace;
            white-space: pre;
            overflow-x: auto;
        }
        
        @media print {
            body {
                background-color: white;
            }
            .container {
                box-shadow: none;
                padding: 0;
            }
            h1 {
                page-break-after: avoid;
            }
            h2 {
                page-break-after: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“‹ DOCUMENTACIÃ“N COMPLETA DEL PROYECTO</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            <strong>Sistema de GestiÃ³n de Archivos en la Nube - Azal Mechanical Supports</strong><br>
            VersiÃ³n 1.0 | Noviembre 2024
        </p>
        
        <div class="toc">
            <h3>ğŸ“‘ Tabla de Contenidos</h3>
            <ol>
                <li>Resumen Ejecutivo</li>
                <li>Arquitectura General del Sistema</li>
                <li>Frontend (Interfaz de Usuario)</li>
                <li>Backend (Servidor)</li>
                <li>Base de Datos</li>
                <li>Seguridad y AutenticaciÃ³n</li>
                <li>Funcionalidades Principales</li>
                <li>GuÃ­a de Uso para Usuarios</li>
                <li>GuÃ­a de AdministraciÃ³n</li>
                <li>InstalaciÃ³n y ConfiguraciÃ³n</li>
                <li>Preguntas Frecuentes</li>
            </ol>
        </div>
        
        <!-- SECCIÃ“N 1 -->
        <h2>1. RESUMEN EJECUTIVO</h2>
        
        <h3>Â¿QuÃ© es este proyecto?</h3>
        <p>Es un <strong>sistema en la nube para guardar y organizar archivos</strong> de empresa, similar a Google Drive pero personalizado para Azal Mechanical Supports.</p>
        
        <div class="box">
            <strong>Objetivo Principal:</strong> Permitir que los empleados de Azal suban, compartan y administren documentos de forma segura, con registro completo de quiÃ©n hizo quÃ© y cuÃ¡ndo.
        </div>
        
        <h3>CaracterÃ­sticas Principales</h3>
        <ul>
            <li>âœ… AutenticaciÃ³n con usuario y contraseÃ±a (sin Google o Facebook)</li>
            <li>âœ… Subir archivos con ID de contrato y proveedor</li>
            <li>âœ… Compartir archivos entre usuarios</li>
            <li>âœ… Control de versiones (guardar versiones antiguas)</li>
            <li>âœ… Registro de auditorÃ­a (quiÃ©n hizo quÃ©, cuÃ¡ndo y dÃ³nde)</li>
            <li>âœ… Panel de administrador para gestionar usuarios</li>
            <li>âœ… Interfaz responsiva (funciona en mÃ³vil, tablet y PC)</li>
        </ul>
        
        <!-- SECCIÃ“N 2 -->
        <h2>2. ARQUITECTURA GENERAL DEL SISTEMA</h2>
        
        <h3>Estructura General</h3>
        <p>El sistema estÃ¡ dividido en 3 capas:</p>
        
        <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAPA 1: FRONTEND (Lo que ves en pantalla)      â”‚
â”‚  â€¢ React.js + TypeScript                         â”‚
â”‚  â€¢ Interfaz bonita (HTML/CSS)                    â”‚
â”‚  â€¢ Interactividad rÃ¡pida                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ (ComunicaciÃ³n por Internet)
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAPA 2: BACKEND (El cerebro)                   â”‚
â”‚  â€¢ Express.js + Node.js                         â”‚
â”‚  â€¢ Procesa solicitudes                          â”‚
â”‚  â€¢ Valida seguridad                             â”‚
â”‚  â€¢ Guarda archivos                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ (ComunicaciÃ³n por Internet)
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAPA 3: BASE DE DATOS (La memoria)             â”‚
â”‚  â€¢ PostgreSQL en Neon (nube)                    â”‚
â”‚  â€¢ Guarda informaciÃ³n de usuarios               â”‚
â”‚  â€¢ Metadatos de archivos                        â”‚
â”‚  â€¢ Registro de auditorÃ­a                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </div>
        
        <!-- SECCIÃ“N 3 -->
        <h2>3. FRONTEND (Interfaz de Usuario)</h2>
        
        <h3>Â¿QuÃ© es el Frontend?</h3>
        <p>Es lo que <strong>VES en la pantalla</strong>. Todo lo que haces con el ratÃ³n o teclado (botones, formularios, etc.)</p>
        
        <h3>TecnologÃ­a Utilizada</h3>
        <table>
            <tr>
                <th>TecnologÃ­a</th>
                <th>Â¿QuÃ© hace?</th>
                <th>Â¿Por quÃ©?</th>
            </tr>
            <tr>
                <td><strong>React.js</strong></td>
                <td>Crea la interfaz interactiva</td>
                <td>RÃ¡pida, moderna, componentes reutilizables</td>
            </tr>
            <tr>
                <td><strong>TypeScript</strong></td>
                <td>VersiÃ³n "segura" de JavaScript</td>
                <td>Atrapa errores antes de que ocurran</td>
            </tr>
            <tr>
                <td><strong>Tailwind CSS</strong></td>
                <td>Sistema de estilos (colores, espacios)</td>
                <td>Desarrollo rÃ¡pido, diseÃ±o consistente</td>
            </tr>
            <tr>
                <td><strong>Wouter</strong></td>
                <td>NavegaciÃ³n entre pÃ¡ginas</td>
                <td>Sin recargar la pÃ¡gina, mÃ¡s rÃ¡pido</td>
            </tr>
            <tr>
                <td><strong>React Query</strong></td>
                <td>Comunica con el servidor</td>
                <td>Gestiona datos, carga, errores automÃ¡ticamente</td>
            </tr>
        </table>
        
        <h3>PÃ¡ginas del Frontend</h3>
        <div class="feature-list">
            <div class="feature-item">
                <strong>ğŸ“„ PÃ¡gina de Login</strong><br>
                Donde inicias sesiÃ³n con usuario y contraseÃ±a
            </div>
            <div class="feature-item">
                <strong>ğŸ“Š Dashboard</strong><br>
                Panel principal con estadÃ­sticas y archivos recientes
            </div>
            <div class="feature-item">
                <strong>ğŸ“ Mis Archivos</strong><br>
                Tus archivos subidos, con opciÃ³n de subir nuevos
            </div>
            <div class="feature-item">
                <strong>ğŸ“¤ Archivos Compartidos</strong><br>
                Archivos que otros usuarios compartieron contigo
            </div>
            <div class="feature-item">
                <strong>ğŸ“‘ Todos los Archivos (Admin)</strong><br>
                Solo admin: ve todos los archivos del sistema
            </div>
            <div class="feature-item">
                <strong>ğŸ‘¥ Gestionar Usuarios (Admin)</strong><br>
                Solo admin: crea, edita y elimina usuarios
            </div>
            <div class="feature-item">
                <strong>ğŸ“‹ Registro de AuditorÃ­a (Admin)</strong><br>
                Solo admin: ve todo lo que pasÃ³ en el sistema
            </div>
            <div class="feature-item">
                <strong>ğŸŒ™ Tema Claro/Oscuro</strong><br>
                Cambia entre modo claro y oscuro
            </div>
        </div>
        
        <!-- SECCIÃ“N 4 -->
        <h2>4. BACKEND (Servidor)</h2>
        
        <h3>Â¿QuÃ© es el Backend?</h3>
        <p>Es el <strong>"cerebro" invisible</strong> del sistema. Recibe solicitudes del frontend, las procesa, y devuelve resultados.</p>
        
        <h3>TecnologÃ­a Utilizada</h3>
        <table>
            <tr>
                <th>TecnologÃ­a</th>
                <th>Â¿QuÃ© hace?</th>
            </tr>
            <tr>
                <td><strong>Express.js</strong></td>
                <td>Framework que recibe solicitudes HTTP</td>
            </tr>
            <tr>
                <td><strong>Node.js</strong></td>
                <td>Entorno para ejecutar JavaScript en servidor</td>
            </tr>
            <tr>
                <td><strong>Multer</strong></td>
                <td>Procesa archivos subidos</td>
            </tr>
            <tr>
                <td><strong>Passport.js</strong></td>
                <td>Autentica usuarios (verifica contraseÃ±a)</td>
            </tr>
            <tr>
                <td><strong>Drizzle ORM</strong></td>
                <td>Comunica con la base de datos</td>
            </tr>
        </table>
        
        <h3>Rutas API (Endpoints)</h3>
        <p>Son como "puntos de entrada" donde el frontend pide informaciÃ³n:</p>
        
        <h4>ğŸ” AutenticaciÃ³n</h4>
        <ul>
            <li><code>POST /api/login</code> - Inicia sesiÃ³n</li>
            <li><code>POST /api/logout</code> - Cierra sesiÃ³n</li>
            <li><code>GET /api/user</code> - Obtiene usuario actual</li>
        </ul>
        
        <h4>ğŸ“ Archivos</h4>
        <ul>
            <li><code>POST /api/files/upload</code> - Sube archivo</li>
            <li><code>GET /api/files/my</code> - Obtiene tus archivos</li>
            <li><code>GET /api/files/shared</code> - Obtiene archivos compartidos</li>
            <li><code>GET /api/files/all</code> - Todos los archivos (admin)</li>
            <li><code>GET /api/files/:id/download</code> - Descarga archivo</li>
            <li><code>GET /api/files/:id/preview</code> - Previsualiza archivo</li>
            <li><code>DELETE /api/files/:id</code> - Elimina archivo (admin)</li>
            <li><code>POST /api/files/:id/version</code> - Crea nueva versiÃ³n</li>
        </ul>
        
        <h4>ğŸ‘¥ Usuarios (Admin)</h4>
        <ul>
            <li><code>GET /api/users</code> - Lista todos los usuarios</li>
            <li><code>POST /api/users</code> - Crea nuevo usuario</li>
            <li><code>PATCH /api/users/:id</code> - Edita usuario</li>
            <li><code>DELETE /api/users/:id</code> - Elimina usuario</li>
        </ul>
        
        <h4>ğŸ“Š AuditorÃ­a (Admin)</h4>
        <ul>
            <li><code>GET /api/audit-logs</code> - Ver registro de auditorÃ­a</li>
            <li><code>GET /api/audit-logs/recent</code> - Actividad reciente</li>
            <li><code>GET /api/stats</code> - EstadÃ­sticas del sistema</li>
        </ul>
        
        <!-- SECCIÃ“N 5 -->
        <h2>5. BASE DE DATOS</h2>
        
        <h3>Â¿QuÃ© es una Base de Datos?</h3>
        <p>Es como un <strong>enorme archivo Excel en la nube</strong> que guarda toda la informaciÃ³n del sistema de forma organizada.</p>
        
        <h3>Â¿DÃ³nde estÃ¡? PostgreSQL en Neon</h3>
        <div class="box">
            <strong>PostgreSQL:</strong> Es el software de base de datos<br>
            <strong>Neon:</strong> Es el servicio en la nube que lo aloja<br>
            <strong>UbicaciÃ³n:</strong> En servidores de Neon (en Internet)
        </div>
        
        <h3>Tablas de la Base de Datos</h3>
        
        <h4>ğŸ“Š Tabla: USERS (Usuarios)</h4>
        <p>Guarda informaciÃ³n de los usuarios del sistema:</p>
        <table>
            <tr>
                <th>Campo</th>
                <th>Tipo</th>
                <th>DescripciÃ³n</th>
            </tr>
            <tr>
                <td>id</td>
                <td>NÃºmero</td>
                <td>Identificador Ãºnico (1, 2, 3...)</td>
            </tr>
            <tr>
                <td>username</td>
                <td>Texto</td>
                <td>Nombre de usuario para login (ej: "victor")</td>
            </tr>
            <tr>
                <td>password</td>
                <td>Texto</td>
                <td>ContraseÃ±a (encriptada, nadie ve la real)</td>
            </tr>
            <tr>
                <td>fullName</td>
                <td>Texto</td>
                <td>Nombre completo (ej: "VÃ­ctor HernÃ¡ndez")</td>
            </tr>
            <tr>
                <td>isAdmin</td>
                <td>SÃ­/No</td>
                <td>Â¿Es administrador? (true/false)</td>
            </tr>
            <tr>
                <td>isActive</td>
                <td>SÃ­/No</td>
                <td>Â¿Usuario activo? (true/false)</td>
            </tr>
            <tr>
                <td>failedLoginAttempts</td>
                <td>NÃºmero</td>
                <td>Intentos fallidos de login</td>
            </tr>
            <tr>
                <td>lockedUntil</td>
                <td>Fecha/Hora</td>
                <td>Bloqueado hasta esta hora (si pasÃ³ lÃ­mite)</td>
            </tr>
            <tr>
                <td>lastLogin</td>
                <td>Fecha/Hora</td>
                <td>Ãšltimo acceso del usuario</td>
            </tr>
            <tr>
                <td>createdAt</td>
                <td>Fecha/Hora</td>
                <td>CuÃ¡ndo se creÃ³ el usuario</td>
            </tr>
        </table>
        
        <h4>ğŸ“„ Tabla: FILES (Archivos)</h4>
        <p>Guarda informaciÃ³n sobre cada archivo subido:</p>
        <table>
            <tr>
                <th>Campo</th>
                <th>Tipo</th>
                <th>DescripciÃ³n</th>
            </tr>
            <tr>
                <td>id</td>
                <td>NÃºmero</td>
                <td>ID Ãºnico del archivo</td>
            </tr>
            <tr>
                <td>contractId</td>
                <td>Texto</td>
                <td>ID del contrato (ej: "CONT-2024-001")</td>
            </tr>
            <tr>
                <td>supplier</td>
                <td>Texto</td>
                <td>Nombre del proveedor (ej: "Empresa XYZ")</td>
            </tr>
            <tr>
                <td>filename</td>
                <td>Texto</td>
                <td>Nombre guardado en servidor</td>
            </tr>
            <tr>
                <td>originalName</td>
                <td>Texto</td>
                <td>Nombre original (lo que subiste)</td>
            </tr>
            <tr>
                <td>mimeType</td>
                <td>Texto</td>
                <td>Tipo (ej: "application/pdf")</td>
            </tr>
            <tr>
                <td>size</td>
                <td>NÃºmero</td>
                <td>TamaÃ±o en bytes</td>
            </tr>
            <tr>
                <td>uploadedBy</td>
                <td>NÃºmero</td>
                <td>ID del usuario que subiÃ³</td>
            </tr>
            <tr>
                <td>uploadedAt</td>
                <td>Fecha/Hora</td>
                <td>CuÃ¡ndo se subiÃ³</td>
            </tr>
            <tr>
                <td>version</td>
                <td>NÃºmero</td>
                <td>NÃºmero de versiÃ³n (1, 2, 3...)</td>
            </tr>
            <tr>
                <td>previousVersionId</td>
                <td>NÃºmero</td>
                <td>ID de versiÃ³n anterior (si hay)</td>
            </tr>
            <tr>
                <td>isDeleted</td>
                <td>SÃ­/No</td>
                <td>Â¿EstÃ¡ eliminado?</td>
            </tr>
            <tr>
                <td>deletedAt</td>
                <td>Fecha/Hora</td>
                <td>CuÃ¡ndo se eliminÃ³</td>
            </tr>
            <tr>
                <td>deletedBy</td>
                <td>NÃºmero</td>
                <td>ID del admin que eliminÃ³</td>
            </tr>
        </table>
        
        <h4>ğŸ“‹ Tabla: AUDIT_LOGS (Registro de AuditorÃ­a)</h4>
        <p>Guarda un registro de TODAS las acciones en el sistema:</p>
        <table>
            <tr>
                <th>Campo</th>
                <th>Tipo</th>
                <th>DescripciÃ³n</th>
            </tr>
            <tr>
                <td>id</td>
                <td>NÃºmero</td>
                <td>ID Ãºnico del log</td>
            </tr>
            <tr>
                <td>userId</td>
                <td>NÃºmero</td>
                <td>ID del usuario que hizo la acciÃ³n</td>
            </tr>
            <tr>
                <td>action</td>
                <td>Texto</td>
                <td>Tipo de acciÃ³n: login, logout, upload, download, delete, etc.</td>
            </tr>
            <tr>
                <td>resourceType</td>
                <td>Texto</td>
                <td>Â¿QuÃ© afectÃ³? file, user, session</td>
            </tr>
            <tr>
                <td>resourceId</td>
                <td>NÃºmero</td>
                <td>ID del archivo o usuario afectado</td>
            </tr>
            <tr>
                <td>details</td>
                <td>Texto</td>
                <td>DescripciÃ³n detallada</td>
            </tr>
            <tr>
                <td>ipAddress</td>
                <td>Texto</td>
                <td>IP de quiÃ©n hizo la acciÃ³n</td>
            </tr>
            <tr>
                <td>userAgent</td>
                <td>Texto</td>
                <td>Navegador y sistema operativo usado</td>
            </tr>
            <tr>
                <td>createdAt</td>
                <td>Fecha/Hora</td>
                <td>CuÃ¡ndo ocurriÃ³ la acciÃ³n</td>
            </tr>
        </table>
        
        <!-- SECCIÃ“N 6 -->
        <h2>6. SEGURIDAD Y AUTENTICACIÃ“N</h2>
        
        <h3>Â¿CÃ³mo funciona el login?</h3>
        <ol>
            <li>Escribes usuario y contraseÃ±a</li>
            <li>Se envÃ­a al servidor (cifrado por HTTPS)</li>
            <li>Servidor verifica en la BD que exista ese usuario</li>
            <li>Compara la contraseÃ±a (usando algoritmo seguro)</li>
            <li>Si es correcto, crea una "sesiÃ³n" (cookie)</li>
            <li>Esa cookie se guarda en tu navegador</li>
            <li>En cada solicitud, se envÃ­a la cookie</li>
            <li>Servidor verifica que la sesiÃ³n sea vÃ¡lida</li>
        </ol>
        
        <h3>Medidas de Seguridad</h3>
        <div class="feature-list">
            <div class="feature-item">
                <strong>ğŸ” ContraseÃ±as Encriptadas</strong><br>
                Nadie (ni siquiera nosotros) vemos las contraseÃ±as
            </div>
            <div class="feature-item">
                <strong>ğŸ”’ Sesiones Protegidas</strong><br>
                Expiran despuÃ©s de 30 minutos sin actividad
            </div>
            <div class="feature-item">
                <strong>âŒ Bloqueo por Intentos Fallidos</strong><br>
                DespuÃ©s de 5 intentos fallidos, bloquea 15 minutos
            </div>
            <div class="feature-item">
                <strong>ğŸ“ AuditorÃ­a Completa</strong><br>
                Cada acciÃ³n se registra (quiÃ©n, cuÃ¡ndo, desde dÃ³nde)
            </div>
            <div class="feature-item">
                <strong>ğŸ‘¤ Roles de Usuario</strong><br>
                Admin (todo) vs Usuario Normal (solo sus archivos)
            </div>
            <div class="feature-item">
                <strong>ğŸ—‘ï¸ EliminaciÃ³n Suave</strong><br>
                Archivos marcados como eliminados, no se borran de verdad
            </div>
        </div>
        
        <div class="box-warning">
            <strong>âš ï¸ IMPORTANTE:</strong> Siempre usa HTTPS en producciÃ³n (no HTTP). Esto cifra toda la comunicaciÃ³n.
        </div>
        
        <!-- SECCIÃ“N 7 -->
        <h2>7. FUNCIONALIDADES PRINCIPALES</h2>
        
        <h3>1ï¸âƒ£ Subir Archivos</h3>
        <p><strong>Â¿CÃ³mo?</strong> En la pÃ¡gina "Mis Archivos"</p>
        <ul>
            <li>Ingresa ID de Contrato (ej: CONT-2024-001)</li>
            <li>Ingresa Proveedor (ej: Empresa XYZ)</li>
            <li>Arrastra archivo o haz clic para seleccionar</li>
            <li>Se sube automÃ¡ticamente (mÃ¡x 50MB)</li>
            <li>Se guarda metadatos en BD</li>
        </ul>
        
        <h3>2ï¸âƒ£ Ver y Descargar Archivos</h3>
        <p><strong>Â¿CÃ³mo?</strong> Desde "Mis Archivos" o "Archivos Compartidos"</p>
        <ul>
            <li>Haz clic en el menÃº (â‹®) del archivo</li>
            <li>Selecciona "Descargar"</li>
            <li>Se guarda en tu computadora</li>
            <li>Se registra en auditorÃ­a</li>
        </ul>
        
        <h3>3ï¸âƒ£ Previsualizar Archivos</h3>
        <p><strong>Â¿CÃ³mo?</strong> En el menÃº del archivo</p>
        <ul>
            <li>Selecciona "Previsualizar"</li>
            <li>Abre en ventana modal (no se descarga)</li>
            <li>Funciona con: PDF, imÃ¡genes</li>
            <li>Otros formatos: descarga para ver</li>
        </ul>
        
        <h3>4ï¸âƒ£ Versiones de Archivo</h3>
        <p><strong>Â¿Por quÃ©?</strong> Para guardar cambios sin perder versiones anteriores</p>
        <ul>
            <li>Al subir un archivo con el mismo nombre</li>
            <li>Se crea una nueva versiÃ³n automÃ¡ticamente</li>
            <li>Las antiguas se guardan (con referencia)</li>
            <li>Se muestra "v2", "v3", etc. en interfaz</li>
        </ul>
        
        <h3>5ï¸âƒ£ Compartir Archivos</h3>
        <p><strong>Â¿CÃ³mo?</strong> AutomÃ¡ticamente en la pÃ¡gina "Archivos Compartidos"</p>
        <ul>
            <li>Todos los usuarios ven archivos de otros</li>
            <li>Pero en modo "solo lectura" (no pueden editar)</li>
            <li>Pueden descargar y previsualizar</li>
            <li>El admin ve todo desde "Todos los Archivos"</li>
        </ul>
        
        <h3>6ï¸âƒ£ Eliminar Archivos (Admin)</h3>
        <p><strong>Â¿QuiÃ©n?</strong> Solo administrador</p>
        <ul>
            <li>Desde pÃ¡gina "Todos los Archivos"</li>
            <li>Haz clic en menÃº (â‹®)</li>
            <li>Selecciona "Eliminar"</li>
            <li>Confirma eliminaciÃ³n</li>
            <li>Se marca como eliminado en BD (auditorÃ­a)</li>
        </ul>
        
        <h3>7ï¸âƒ£ Gestionar Usuarios (Admin)</h3>
        <p><strong>Â¿DÃ³nde?</strong> PÃ¡gina "Gestionar Usuarios"</p>
        <ul>
            <li>Crear nuevo usuario (nombre, usuario, contraseÃ±a)</li>
            <li>Hacer admin a un usuario</li>
            <li>Desactivar usuario (no puede entrar)</li>
            <li>Cambiar contraseÃ±a</li>
        </ul>
        
        <h3>8ï¸âƒ£ Registro de AuditorÃ­a</h3>
        <p><strong>Â¿DÃ³nde?</strong> PÃ¡gina "Registro de AuditorÃ­a" (admin)</p>
        <ul>
            <li>Ve todas las acciones: logins, uploads, descargas, eliminaciones</li>
            <li>InformaciÃ³n: quiÃ©n, quÃ©, cuÃ¡ndo, desde dÃ³nde</li>
            <li>Filtrar por fecha, usuario, tipo de acciÃ³n</li>
        </ul>
        
        <!-- SECCIÃ“N 8 -->
        <h2>8. GUÃA DE USO PARA USUARIOS NORMALES</h2>
        
        <h3>Primer acceso</h3>
        <ol>
            <li>Abre la aplicaciÃ³n en navegador</li>
            <li>Ve la pantalla de login</li>
            <li>Escribe usuario y contraseÃ±a (que te dio el admin)</li>
            <li>Haz clic en "Iniciar SesiÃ³n"</li>
            <li>Â¡Entra al Dashboard!</li>
        </ol>
        
        <h3>Pantalla Principal (Dashboard)</h3>
        <p>Ves:</p>
        <ul>
            <li>ğŸ“Š EstadÃ­sticas: Total de archivos, tamaÃ±o total</li>
            <li>ğŸ“¤ Archivos recientes que subiste</li>
            <li>ğŸ“‹ Actividad: Ãšltimas acciones en el sistema</li>
        </ul>
        
        <h3>Subir un archivo</h3>
        <ol>
            <li>Ve a "Mis Archivos"</li>
            <li>En el formulario izquierdo, ingresa:</li>
            <li style="margin-left: 40px;">ID de Contrato: CONT-2024-001</li>
            <li style="margin-left: 40px;">Proveedor: Mi Proveedor S.A.</li>
            <li>Arrastra archivo al Ã¡rea punteada o haz clic</li>
            <li>Selecciona el archivo de tu computadora</li>
            <li>Se sube automÃ¡ticamente</li>
            <li>Aparece en tu lista de archivos</li>
        </ol>
        
        <h3>Ver mis archivos</h3>
        <ul>
            <li>Ve a "Mis Archivos"</li>
            <li>Ves todos TUS archivos en lista o cuadrÃ­cula</li>
            <li>Puedes buscar por nombre o contrato</li>
        </ul>
        
        <h3>Ver archivos compartidos por otros</h3>
        <ul>
            <li>Ve a "Archivos Compartidos"</li>
            <li>Ves archivos subidos por otros usuarios</li>
            <li>Puedes descargar y ver, pero no editar</li>
        </ul>
        
        <h3>Descargar archivo</h3>
        <ol>
            <li>Busca el archivo en tu lista</li>
            <li>Haz clic en el menÃº (â‹®) de la derecha</li>
            <li>Selecciona "Descargar"</li>
            <li>Se descarga a tu carpeta "Descargas"</li>
        </ol>
        
        <h3>Cerrar sesiÃ³n</h3>
        <ol>
            <li>Haz clic en tu nombre (arriba a la derecha)</li>
            <li>Selecciona "Cerrar SesiÃ³n"</li>
            <li>Vuelves a pantalla de login</li>
        </ol>
        
        <!-- SECCIÃ“N 9 -->
        <h2>9. GUÃA DE ADMINISTRACIÃ“N</h2>
        
        <h3>Acceso de Admin</h3>
        <p>Como admin, ves menÃº extra en sidebar:</p>
        <ul>
            <li>ğŸ‘¥ Gestionar Usuarios</li>
            <li>ğŸ“‘ Todos los Archivos</li>
            <li>ğŸ“‹ Registro de AuditorÃ­a</li>
        </ul>
        
        <h3>Crear Nuevo Usuario</h3>
        <ol>
            <li>Ve a "Gestionar Usuarios"</li>
            <li>Haz clic en botÃ³n "Crear Usuario"</li>
            <li>Llena formulario:</li>
            <li style="margin-left: 40px;">Nombre Completo</li>
            <li style="margin-left: 40px;">Usuario (para login)</li>
            <li style="margin-left: 40px;">ContraseÃ±a (mÃ­nimo 8 caracteres)</li>
            <li style="margin-left: 40px;">Â¿Es Admin? (sÃ­/no)</li>
            <li>Haz clic "Crear"</li>
            <li>El usuario recibe datos para login</li>
        </ol>
        
        <h3>Editar Usuario</h3>
        <ol>
            <li>En lista de usuarios, haz clic en el usuario</li>
            <li>Puedes cambiar:</li>
            <li style="margin-left: 40px;">Nombre completo</li>
            <li style="margin-left: 40px;">ContraseÃ±a</li>
            <li style="margin-left: 40px;">Rol (Admin sÃ­/no)</li>
            <li style="margin-left: 40px;">Activo (sÃ­/no)</li>
            <li>Guarda cambios</li>
        </ol>
        
        <h3>Ver Todos los Archivos</h3>
        <ol>
            <li>Ve a "Todos los Archivos"</li>
            <li>Ves lista completa de TODOS los archivos del sistema</li>
            <li>Puedes:</li>
            <li style="margin-left: 40px;">Filtrar por usuario</li>
            <li style="margin-left: 40px;">Filtrar por fecha</li>
            <li style="margin-left: 40px;">Buscar por nombre</li>
            <li style="margin-left: 40px;">Descargar</li>
            <li style="margin-left: 40px;">Previsualizar</li>
            <li style="margin-left: 40px;">Eliminar</li>
        </ol>
        
        <h3>Eliminar Archivo</h3>
        <ol>
            <li>En "Todos los Archivos", encuentra el archivo</li>
            <li>Haz clic en menÃº (â‹®)</li>
            <li>Selecciona "Eliminar"</li>
            <li>Confirma: "Â¿EstÃ¡s seguro?"</li>
            <li>Se marca como eliminado</li>
            <li>Se registra en auditorÃ­a (quiÃ©n eliminÃ³, cuÃ¡ndo)</li>
        </ol>
        
        <h3>Ver Registro de AuditorÃ­a</h3>
        <ol>
            <li>Ve a "Registro de AuditorÃ­a"</li>
            <li>Ves todas las acciones del sistema ordenadas por fecha</li>
            <li>InformaciÃ³n: Usuario, AcciÃ³n, Detalles, Fecha/Hora, IP, Navegador</li>
            <li>Puedes filtrar por tipo de acciÃ³n</li>
        </ol>
        
        <h3>EstadÃ­sticas</h3>
        <p>En el Dashboard ves:</p>
        <ul>
            <li>Total de archivos en el sistema</li>
            <li>TamaÃ±o total de todos los archivos</li>
            <li>Archivos subidos recientemente</li>
            <li>Usuarios activos</li>
        </ul>
        
        <!-- SECCIÃ“N 10 -->
        <h2>10. INSTALACIÃ“N Y CONFIGURACIÃ“N</h2>
        
        <h3>Requisitos Previos</h3>
        <ul>
            <li>Node.js 16+ instalado en tu computadora</li>
            <li>Un editor de cÃ³digo (Visual Studio Code recomendado)</li>
            <li>Acceso a Internet</li>
        </ul>
        
        <h3>Pasos para Instalar Localmente</h3>
        
        <h4>1. Descargar el Proyecto</h4>
        <ul>
            <li>Descarga la carpeta del proyecto (ZIP)</li>
            <li>Descomprime en tu computadora</li>
        </ul>
        
        <h4>2. Abrir en Visual Studio Code</h4>
        <ul>
            <li>Abre VS Code</li>
            <li>File â†’ Open Folder</li>
            <li>Selecciona la carpeta del proyecto</li>
        </ul>
        
        <h4>3. Abrir Terminal</h4>
        <ul>
            <li>Presiona Ctrl + Ã‘ (o Cmd + Ã‘ en Mac)</li>
            <li>O ve a View â†’ Terminal</li>
        </ul>
        
        <h4>4. Instalar Dependencias</h4>
        <div class="code-block">npm install</div>
        <p>Espera a que termine (varios minutos)</p>
        
        <h4>5. Configurar Base de Datos</h4>
        <p>OpciÃ³n A: Usar BD en Neon (recomendado)</p>
        <ul>
            <li>Copia la URL de conexiÃ³n desde Replit</li>
            <li>Crea archivo <code>.env</code> en raÃ­z</li>
            <li>AÃ±ade: <code>DATABASE_URL=tu_url_aqui</code></li>
        </ul>
        
        <p>OpciÃ³n B: Usar BD local (necesita PostgreSQL instalado)</p>
        <ul>
            <li>Instala PostgreSQL en tu mÃ¡quina</li>
            <li>Crea BD local</li>
            <li>Copia URL de conexiÃ³n a <code>.env</code></li>
        </ul>
        
        <h4>6. Crear Tablas en BD</h4>
        <div class="code-block">npm run db:push</div>
        
        <h4>7. Iniciar Servidor</h4>
        <div class="code-block">npm run dev</div>
        
        <h4>8. Abrir en Navegador</h4>
        <p>Ve a: <code>http://localhost:5000</code></p>
        
        <h3>Variables de Entorno (.env)</h3>
        <p>Archivo necesario en raÃ­z del proyecto:</p>
        <div class="code-block">DATABASE_URL=postgresql://usuario:contraseÃ±a@host:puerto/base_datos
SESSION_SECRET=tu_secret_aleatorio_aqui
NODE_ENV=development</div>
        
        <!-- SECCIÃ“N 11 -->
        <h2>11. PREGUNTAS FRECUENTES</h2>
        
        <h3>â“ Â¿QuÃ© formatos de archivo se pueden subir?</h3>
        <p>âœ… Permitidos:</p>
        <ul>
            <li>Documentos: PDF, Word (.doc, .docx), Excel (.xls, .xlsx), PowerPoint (.ppt, .pptx)</li>
            <li>ImÃ¡genes: PNG, JPG, JPEG, GIF, WebP</li>
            <li>Comprimidos: ZIP, RAR, TAR, GZ</li>
        </ul>
        <p>âŒ No permitidos: .exe, .bat, .sh (archivos ejecutables por seguridad)</p>
        
        <h3>â“ Â¿CuÃ¡l es el tamaÃ±o mÃ¡ximo de archivo?</h3>
        <p>50 MB por archivo. Si tu archivo es mÃ¡s grande, comprimelo en ZIP.</p>
        
        <h3>â“ Â¿QuÃ© pasa si subo un archivo dos veces?</h3>
        <p>Se crea una nueva versiÃ³n automÃ¡ticamente. Las antiguas se guardan.</p>
        
        <h3>â“ Â¿Puedo ver la contraseÃ±a?</h3>
        <p>No, estÃ¡ encriptada. Si la olvidas, el admin debe crear una nueva.</p>
        
        <h3>â“ Â¿CuÃ¡nto tiempo tarda en login si hay "SesiÃ³n expirada"?</h3>
        <p>30 minutos sin actividad. Luego, la sesiÃ³n se cierra automÃ¡ticamente.</p>
        
        <h3>â“ Â¿QuiÃ©n puede ver mis archivos?</h3>
        <ul>
            <li>TÃº: siempre ves tus archivos</li>
            <li>Admin: ve todos los archivos</li>
            <li>Otros usuarios: ven tus archivos en "Archivos Compartidos"</li>
        </ul>
        
        <h3>â“ Â¿Se pueden recuperar archivos eliminados?</h3>
        <p>El admin que eliminÃ³ puede ver el registro. La BD marca como "eliminado" pero guarda el dato. Contacta con admin.</p>
        
        <h3>â“ Â¿DÃ³nde se guardan los archivos realmente?</h3>
        <p>En la carpeta <code>uploads/</code> del servidor y metadatos en PostgreSQL.</p>
        
        <h3>â“ Â¿QuÃ© pasa si me intentan hackear?</h3>
        <p>El sistema:</p>
        <ul>
            <li>Bloquea la cuenta despuÃ©s de 5 intentos fallidos (15 minutos)</li>
            <li>Registra cada intento en auditorÃ­a</li>
            <li>El admin ve IP y navegador de cada intento</li>
        </ul>
        
        <h3>â“ Â¿Puedo cambiar mi contraseÃ±a?</h3>
        <p>No (actualmente). El admin puede cambiarla por ti.</p>
        
        <h3>â“ Â¿Es seguro usar esto por Internet?</h3>
        <p>SÃ­, pero SIEMPRE usa HTTPS (no HTTP). En Replit es automÃ¡tico.</p>
        
        <h3>â“ Â¿QuÃ© pasa si el servidor se cae?</h3>
        <p>Los datos en BD se guardan. Al reiniciar, todo sigue ahÃ­.</p>
        
        <h3>â“ Â¿Puedo exportar todos mis datos?</h3>
        <p>SÃ­, desde el navegador: descargas tus archivos uno a uno.</p>
        
        <!-- FOOTER -->
        <div class="footer">
            <p><strong>Sistema de GestiÃ³n de Archivos - Azal Mechanical Supports</strong></p>
            <p>DocumentaciÃ³n v1.0 | Noviembre 2024</p>
            <p>Para soporte tÃ©cnico, contacta al administrador</p>
        </div>
    </div>
</body>
</html>